"use strict";(self.webpackChunkbill_splitter=self.webpackChunkbill_splitter||[]).push([[771,529],{4529:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var a=t(5043),n=t(3216),i=t(579);const r=function(e){let{filterLastMonths:s}=e;const[t,r]=(0,a.useState)([]),[d,l]=(0,a.useState)(""),c=(0,n.Zp)();return(0,a.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("receipts"))||[];let t=e;if(s){const a=new Date;a.setMonth(a.getMonth()-s),t=e.filter((e=>new Date(e.date)>=a))}r(t.map((e=>({...e,expanded:!1}))))}),[s]),(0,i.jsxs)("div",{className:"bills-page",children:[(0,i.jsx)("h2",{children:s?`Recent Transactions (Last ${s} Months)`:"All Restaurant Transactions"}),(0,i.jsxs)("div",{className:"sort-options",children:[(0,i.jsx)("label",{htmlFor:"sort",children:"Sort by: "}),(0,i.jsxs)("select",{id:"sort",value:d,onChange:e=>(e=>{l(e);const s=[...t];switch(e){case"amount":s.sort(((e,s)=>e.amount-s.amount));break;case"date":s.sort(((e,s)=>new Date(e.date)-new Date(s.date)));break;case"friends":s.sort(((e,s)=>e.friends.join(", ").localeCompare(s.friends.join(", "))));break;case"status":s.sort(((e,s)=>e.status.localeCompare(s.status)))}r(s)})(e.target.value),children:[(0,i.jsx)("option",{value:"",children:"Select"}),(0,i.jsx)("option",{value:"amount",children:"Amount"}),(0,i.jsx)("option",{value:"date",children:"Date"}),(0,i.jsx)("option",{value:"friends",children:"Person"}),(0,i.jsx)("option",{value:"status",children:"Status (Paid/Unpaid)"})]})]}),(0,i.jsx)("button",{onClick:()=>{c("/camera")},className:"add-receipt-button",children:"Add New Receipt"}),(0,i.jsx)("div",{className:"transactions-list",children:t.length>0?t.map((e=>(0,i.jsxs)("div",{className:"transaction-item",children:[(0,i.jsxs)("p",{onClick:()=>{return s=e.id,void r(t.map((e=>e.id===s?{...e,expanded:!e.expanded}:e)));var s},style:{cursor:"pointer",fontWeight:"bold"},children:["Date: ",e.date,e.expanded?" \u25b2":" \u25bc"]}),e.expanded&&(0,i.jsxs)("div",{className:"transaction-details",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Restaurant:"})," ",e.restaurant]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Amount:"})," $",e.amount.toFixed(2)]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Friends:"})," ",e.friends.join(", ")]}),(0,i.jsxs)("p",{className:`status ${e.status.toLowerCase()}`,children:[(0,i.jsx)("strong",{children:"Status:"})," ",e.status]}),e.image&&(0,i.jsxs)("div",{className:"receipt-image",children:[(0,i.jsx)("h4",{children:"Receipt Image:"}),(0,i.jsx)("img",{src:e.image,alt:"Receipt",style:{maxWidth:"100%"}})]}),(0,i.jsxs)("div",{className:"transaction-actions",children:[(0,i.jsxs)("button",{onClick:()=>(e=>{r(t.map((s=>s.id===e?{...s,status:"Paid"===s.status?"Unpaid":"Paid"}:s)));const s=t.map((s=>s.id===e?{...s,status:"Paid"===s.status?"Unpaid":"Paid"}:s));localStorage.setItem("receipts",JSON.stringify(s))})(e.id),className:"toggle-paid-button",children:["Mark as ","Paid"===e.status?"Unpaid":"Paid"]}),(0,i.jsx)("button",{onClick:()=>(e=>{alert(`Sending receipt for ${e.restaurant} to ${e.friends.join(", ")}`)})(e),className:"send-friend-button",children:"Send to Friend"})]})]})]},e.id))):(0,i.jsxs)("p",{children:["No transactions found for the last ",s," months."]})})]})}},7771:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});t(5043);var a=t(4529),n=t(579);const i=function(e){let{user:s,currentBalance:t}=e;return(0,n.jsxs)("div",{className:"dashboard",children:[(0,n.jsxs)("h2",{children:["Welcome, ",null===s||void 0===s?void 0:s.username]}),(0,n.jsx)("div",{className:"balance-section",children:(0,n.jsx)("h3",{children:"Current Balance: $0.00"})}),(0,n.jsx)("div",{children:(0,n.jsx)(a.default,{filterLastMonths:2})})]})}}}]);
//# sourceMappingURL=771.e865252f.chunk.js.map